<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8" />
	<title>CrimeMapper</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v1.0.0-beta.2/leaflet.css" />
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
	<link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/c3.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
	<script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet/v1.0.0-beta.2/leaflet.js"></script>
	<script src="js/leaflet-heat.js"></script>
	<script src="js/map.js" type="text/javascript"></script>
    <script src="js/c3.js"></script>
    <script src="js/d3.js" charset="utf-8"></script>


	<script type="text/javascript">
        $(document).ready(function(){
            $("#Diagram").click(function(){
                $("#map").hide();
				$("#TimeWindows").hide();
				$("#requestButtons").hide();

            });

            $("#Mapped").click(function(){
                $("#map").show();
				$("#TimeWindows").show();
				$("#requestButtons").show();
            });
        });

		$(function() {
		$('a.link').click(function() {
		$('a.link').removeClass('active');
		$(this).addClass('active');
           });
        });

        $(document).ready(function () {
            document.getElementById("Mapped").click();
        });
	</script>

</head>


<body>

    <div class="topTitle">
       <p>Crime Map</p>
    </div>

    <nav>
        <ul>
            <li><a class="link" id="Mapped">Map</a></li>
            <li id="d"><a class="link" id="Diagram">Diagram</a></li>
            <br>
            <br>
            <footer align="center">
            Data courtesy of <a href= "https://data.police.uk/"> London Police </a>
            </footer>
        </ul>
    </nav>

    <header>

	<div class="TimeWindows" id="TimeWindows">
	<p style="margin-left: 1vw;"><b>Choose a timeframe:</b></p>
		<div class="timeWindowMonth" style="margin-left: 1vw;">
			<input type="range" id="rangeInputMonth" name="rangeInput" step="1" min="1" max="12">
			<label id="rangeTextMonth"></label>
		</div>
		<div class="timeWindowYear" style="margin-top: 1vw; margin-left: 1vw;">
			<input type="range" id="rangeInputYear" name="rangeInputY" step="1" min="2013" max="2014">
			<label id="rangeTextYear"></label>
		</div>
	</div>

	<div class="requestButtons" id="requestButtons">
	<p style="margin-left: 1vw;margin-bottom:0.05vw; font-family: Verdana;"><b>Choose a visualization:</b></p>
	<button type="button" class="button" id="reqHeatmap" style="padding: 0.4vw 2.08vw; margin-top: 0.7vw; margin-left: 0.75vw; width: 17vw;">Heat Map</button>
	<!-- Maybe we enter more appropiate names here -->
	<button type="button" class="button" id="reqChoropleth" style="padding: 0.4vw 1.1vw; margin-top: 3.5vw;margin-left: 0.75vw;width: 17vw;">Choropleth Map</button>
	</div>

    <div class="informal">
        <button id="About_button" type="button" class="button" a href="javascript:void(0)" onclick="document.getElementById('show').style.display='block';document.getElementById('close').style.display='block'">About</button>
    </div>

	<div class="loader" id="loader" style="background: #f1f1f1 url('loader/gears.gif') no-repeat center center; display:none;">
	<h1> Please wait...</h1>
    </div>

    </header>

    <!-- Borough Diagram --->
    <section id="diagramContainer" >

        <div style="margin-top: 10px; margin-left: 25px">
            <!-- Borough selection -->
            <select id="selectedBorough">
                <option selected="selected">Select a borough</option>
                <option value='City_of_London'>City of London</option>
                <option value='City_of_Westminster'>City of Westminster</option>
                <option value='London_Borough_of_Camden'>London Borough of Camden</option>
                <option value='London_Borough_of_Islington'>London Borough of Islington</option>
                <option value='London_Borough_of_Tower_Hamlets'>LondonBorough of Tower Hamlets</option>
                <option value='London_Borough_of_Barking_and_Dagenham'>London Borough of Barking and Dagenham</option>
                <option value='London_Borough_of_Barnet'>London Borough of Barnet</option>
                <option value='London_Borough_of_Bexley'>London Borough of Bexley</option>
                <option value='London_Borough_of_Brent'>London Borough of Brent</option>
                <option value='London_Borough_of_Bromley'>London Borough of Bromley</option>
                <option value='London_Borough_of_Croydon'>London Borough of Croydon</option>
                <option value='London_Borough_of_Ealing'>London Borough of Ealing</option>
                <option value='London_Borough_of_Enfield'>London Borough of Enfield</option>
                <option value='Royal_Borough_of_Greenwich'>Royal Borough of Greenwich</option>
                <option value='London_Borough_of_Hackney'>London Borough of Hackney</option>
                <option value='London_Borough_of_Hammersmith_and_Fulham'>London Borough of Hammersmith and Fulham</option>
                <option value='London_Borough_of_Haringey'>London Borough of Haringey</option>
                <option value='London_Borough_of_Harrow'>London Borough of Harrow</option>
                <option value='London_Borough_of_Havering'>London Borough of Havering</option>
                <option value='London_Borough_of_Hillingdon'>London Borough of Hillingdon</option>
                <option value='London_Borough_of_Hounslow'>London Borough of Hounslow</option>
                <option value='Royal_Borough_of_Kensington_and_Chelsea'>Royal Borough of Kensington and Chelsea</option>
                <option value='Royal_Borough_of_Kingston_upon_Thames'>Royal Borough of Kingston upon Thames</option>
                <option value='London_Borough_of_Lambeth'>London Borough of Lambeth</option>
                <option value='London_Borough_of_Lewisham'>London Borough of Lewisham</option>
                <option value='London_Borough_of_Merton'>London Borough of Merton</option>
                <option value='London_Borough_of_Newham'>London Borough of Newham</option>
                <option value='London_Borough_of_Redbridge'>London Borough of Redbridge</option>
                <option value='London_Borough_of_Richmond_upon_Thames'>London Borough of Richmond upon Thames</option>
                <option value='London_Borough_of_Southwark'>London Borough of Southwark</option>
                <option value='London_Borough_of_Sutton'>London Borough of Sutton</option>
                <option value='London_Borough_of_Waltham_Forest'>London Borough of Waltham Forest</option>
                <option value='London_Borough_of_Wandsworth'>London Borough of Wandsworth</option>
            </select>

            <!-- Crime type selection -->
            <div class="multiselect" style="left: 400px; top: 10px; z-index: 10;">
                <div class="selectBox" onclick="showCheckboxes()">
                    <select>
                        <option>Select crime types</option>
                    </select>
                    <div class="overSelect"></div>
                </div>
                <div id="crimeTypeCheckboxes" style="background-color: white;">
                    <input type="checkbox" class="crimeVals"  value='BicycleTheft'>Bicycle theft</input><br>
                    <input type="checkbox" class="crimeVals"  value='Burglary'>Burglary</input><br>
                    <input type="checkbox" class="crimeVals"  value='TheftFromThePerson'>Theft from the person</input><br>
                    <input type="checkbox" class="crimeVals"  value='Anti-socialBehaviour'>Anti-social behaviour</input><br>
                    <input type="checkbox" class="crimeVals"  value='PublicOrder'>Public order</input><br>
                    <input type="checkbox" class="crimeVals"  value='Shoplifting'>Shoplifting</input><br>
                    <input type="checkbox" class="crimeVals"  value='Drugs'>Drugs</input><br>
                    <input type="checkbox" class="crimeVals"  value='VehicleCrime'>Vehicle crime</input><br>
                    <input type="checkbox" class="crimeVals"  value='ViolenceAndSexualOffences'>Violence and sexual offences</input><br>
                    <input type="checkbox" class="crimeVals"  value='CriminalDamageAndArson'>Criminal damage and arson</input><br>
                    <input type="checkbox" class="crimeVals"  value='PossessionOfWeapons'>Possession of weapons</input><br>
                    <input type="checkbox" class="crimeVals"  value='Robbery'>Robbery</input><br>
                    <input type="checkbox" class="crimeVals"  value='OtherTheft'>Other theft</input><br>
                    <input type="checkbox" class="crimeVals"  value='OtherCrime'>Other crime</input><br>
                </div>
            </div>


            <!-- Year selection -->
            <div style="left: 710px; top: 10px; position:absolute;">
                <select id="selectedYear">
                    <option value='2013'>2013</option>
                    <option value='2014'>2014</option>
                </select></div>

            <!-- submit button -->
            <div style="left: 780px; top: 10px; position:absolute;">
                <button id="submitButton" onclick="changeSession()">Load Diagram</button></div>
            <br>

            <div id="LoadingMessage" style="color: #4CAF50"> </div>
        </div>


        <div id="barDiagram" style="padding-left: 25px; padding-top: 20px">
            <p>Please select the borough and crime type for which a diagram shall be shown. You can also choose the year. Please press the button to sumbit.</p>
        </div>
        <div id="TableContainer"></div>
        <div id="WikiLinkHolder"></div>
    </section>


    <section id="map">
	</section>

 <div id="show" class="about_content">
		<p id="a1"><center><b style="font-size: 28px;">About</b></center></p>
		<p id="a2"><b>Welcome to Crime Mapper!</b>
		<br>This application is intended to help Citizens, Tourists, the Police Department, Students and Researchers to get a better overview of the crimes in Greater London. There are two kinds of views, the map view and the diagram view. You can choose between the views using the controls on the left.
		<br><br><b>Map View:</b><br>You can choose a visualisation using the buttons provided and activate/deactivate the Crime Index layer or the Heat map using the controls provided on the right. To get the heat map, select the time period using the sliders and click <b>Heat Map</b>. To get the Cholopleth map of Crime index, click <b>Choropleth Map</b>.
		<br><br><b>Diagram View:</b><br>Please select the Borough, crime type and the year and click <b>Load Diagram</b>.
		</p>
		<table id="t1" style="width: 800px;"><tr>
		<td><i><u>Created by:</u><br>Nimrod Gavish, Antonia van Eek, Jeison Londoño <br> Mina Karamesouti, Sangeetha Shankar, Julius Wittkopp
		<br>University of Muenster, Germany.</i></td>
		<td><img src="crimePict1.jpg" height=150px width=300px style="margin: auto;"></td></tr></table><br>

	<center><button id="button1" a href="javascript:void(0)" onclick="document.getElementById('show').style.display='none';document.getElementById('close').style.display='none'">Close</button></center></div>
    <div id="close" class="invisible_overlay"></div>

</body>

<script src="js/map.js"></script>
<script src="js/diagram.js"></script>

</html>
